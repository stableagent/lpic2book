# 202.2. بازیابی سیستم

## **202.2 System Recovery**

**وزن:**4

**توضیحات:** داوطلبان باید بتوانند به درستی یک سیستم لینوکس را در طول هر دو فرآیند بوت و در حالت بازیابی دستکاری کنند. این هدف شامل استفاده هم از ابزار init و گزینه‌های هسته مرتبط با init است. داوطلبان باید بتوانند علت خطاها را در بارگذاری و استفاده از bootloaders تعیین کنند. نسخه 2 GRUB و GRUB Legacy bootloaderهای مورد نظر هستند. هر دو سیستم BIOS و UEFI پوشش داده شده‌اند.

**نواحی کلیدی دانش:**

* BIOS و UEFI
* بوت NVMe
* نسخه 2 GRUB و Legacy
* shell grub
* شروع و تحویل boot loader به هسته
* بارگذاری هسته
* اولیه‌سازی و setup سخت‌افزاری
* اولیه‌سازی و setup daemon/sرویس
* دانستن مکان‌های نصب boot loader متفاوت روی یک دیسک سخت یا دستگاه قابل حذف.
* بازنویسی گزینه‌های boot loader استاندارد و استفاده از shellهای boot loader.
* استفاده از حالت‌های rescue و emergency systemd.

**اصطلاحات و ابزارها:**

* mount
* fsck
* inittab، telinit و init با init SysV
* محتویات /boot/، /boot/grub/ و /boot/efi/
* پارتیشن سیستم EFI (ESP)
* GRUB
* grub-install
* efibootmgr
* shell UEFI
* initrd، initramfs
* رکورد بوت اصلی
* systemctl

### نمای کلی فرآیند بوت

بیایید به فرآیند بوت نگاهی بیندازیم و هر چه تا الان آموخته‌ایم را نگه داریم:

```
BIOS / UEFI
    |
      Bootable Disk
        |
            Boot Loader(LILO,Grub,Grub2)
                |
                    Kernel (initramfs/initd)
                        |
                            init --->systemd / upstart / SysV
                                        |
                                            everything---shell & other services and programs
```

اگر هر مشکلی در هر یک از این مراحل رخ دهد، فرآیند بوت شکست می‌خورد. ممکن است مشکلات برد مادر، مشکلات دیسک یا مشکل boot loader باشد. بیایید از بسیار ابتدا شروع کنیم.

### BIOS سیستم خروجی ورودی اساسی در مقابل UEFI(EFI) رابط ثابت قابل گسترش فریمور

وقتی کامپیوتر را شروع می‌کنیم باید قادر باشد تا هسته را از خواب بیدار کند. اما حتی bootloader ما روی دیسک سخت می‌خوابد و باید به دیسک دسترسی پیدا کند وقتی هیچ درایور هسته در دسترس نیست. بنابراین باید یک راه‌حل سخت‌افزاری برای دسترسی به دیسک سخت وجود داشته باشد و boot loader را شروع کند و سپس bootloader هسته را بیدار کند.
