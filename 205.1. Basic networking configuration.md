# 205.1. پیکربندی اساسی شبکه

## **205.1 Basic networking configuration**

**وزن:** 3

**توضیحات:** داوطلبان باید بتوانند یک دستگاه شبکه را پیکربندی کنند تا بتوانند به یک شبکه محلی، سیمی یا بی‌سیم، و یک شبکه گسترده (WAN) متصل شوند. این هدف شامل توانایی برقراری ارتباط بین شبکه‌های مختلف زیرمجموعه در یک شبکه واحد شامل شبکه‌های IPv4 و IPv6 است.

**نواحی کلیدی دانش:**

* ابزارهایی برای پیکربندی و دستکاری رابط‌های شبکه اترنت
* پیکربندی دسترسی اساسی به شبکه‌های بی‌سیم

**اصطلاحات و ابزارها:**

* ip
* ifconfig
* route
* arp
* iw
* iwconfig
* iwlist

در این دوره ما زمانی را صرف ابزارهای شبکه می‌کنیم و آنچه آموخته‌ایم را مرور می‌کنیم. هرچه تجربه‌تر می‌شویم، زمان کمتری را صرف عیب‌یابی می‌کنیم. اما قبل از آن اجازه دهید یک تصویر بزرگ ترسیم کنیم.

## پیکربندی شبکه

پیکربندی شبکه در لینوکس می‌تواند گیج‌کننده باشد. در لینوکس، تنظیمات شبکه می‌تواند در سطوح مختلف انجام شود و هر سطح ابزارهای متفاوتی دارد.

![](.gitbook/assets/NetworkConfiguration.jpg)

اینجا ما عمدتاً در مورد ابزارهای پیکربندی زمان اجرا صحبت می‌کنیم اگرچه گاهی می‌گوییم تنظیمات کجا ذخیره شود تا آن پایدار شود.

## ifconfig

ifconfig (پیکربندی رابط) یک ابزار برای پیکربندی، مدیریت و پرس‌وجو از پارامترهای رابط شبکه از طریق رابط خط فرمان یا در اسکریپت‌های پیکربندی سیستم است.

دستور ifconfig برای نمایش اطلاعات پیکربندی شبکه فعلی، تنظیم یک آدرس ip، netmask یا آدرس broadcast برای یک رابط شبکه، ایجاد یک نام مستعار برای رابط شبکه، تنظیم آدرس سخت‌افزاری و فعال یا غیرفعال کردن رابط‌های شبکه استفاده می‌شود.

```
root@server1:~# ifconfig
ens33     Link encap:Ethernet  HWaddr 00:0c:29:03:64:0d
          inet addr:192.168.10.152  Bcast:192.168.10.255  Mask:255.255.255.0
          inet6 addr: fe80::6650:e873:a8c5:ea55/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:4583 errors:0 dropped:0 overruns:0 frame:0
          TX packets:2056 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:4402094 (4.4 MB)  TX bytes:138013 (138.0 KB)

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:255 errors:0 dropped:0 overruns:0 frame:0
          TX packets:255 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:19604 (19.6 KB)  TX bytes:19604 (19.6 KB)
```

اکنون بیایید مروری بر خانواده دستور ifconfig داشته باشیم:

| دستور ifconfig                                  | توضیحات                                                |
| ------------------------------------------------- | ---------------------------------------------------------- |
| ifconfig                                          | نمایش تمام رابط‌های شبکه فعال.                     |
| ifconfig -a                                       | نمایش تمام رابط‌های شبکه (چه فعال یا غیرفعال) |
| ifconfig eth0                                     | تنظیمات شبکه رابط مشخص                     |
| ifconfig eth0 \[up/down]                          | فعال یا غیرفعال کردن یک رابط شبکه                      |
| ifconfig eth0 192.168.10.63                       | اختصاص یک آدرس IP   به رابط شبکه                |
| ifconfig eth0 netmask 255.255.255.0               | اختصاص یک Networkmask  به رابط شبکه                 |
| ifconfig broadcast 192.168.10.255                | اختصاص یک Broadcast به رابط شبکه                    |
| ifconfig eth0 192.168.10.63 netmask 255.255.255.0 | تنظیم همزمان آدرس IP و netmask به                     |
| ifconfig  eth0 hw ether AA:BB:CC:DD:EE:FF         | تغییر آدرس mac رابط شبکه               |

### نگاشت چندین آدرس IP به یک NIC:

وقتی شبکه یک سیستم را تنظیم می‌کنیم، ما معمولاً یک آدرس IP به ازای هر رابط شبکه (NIC) اختصاص می‌دهیم. این به عنوان آدرس اولیه عمل می‌کند. اما در برخی موقعیت‌ها ممکن است نیاز داشته باشیم چندین آدرس IP را روی یک ماشین تنظیم کنیم. خبر خوب این است که ما به ازای هر آدرس IP به یک NIC نیاز نداریم. لینوکس قادر است با استفاده از IP aliasing چندین آدرس IP را به یک NIC نگاشت کند

توجه داشته باشید که آدرس شبکه alias در همان subnet mask باشد. برای مثال، اگر آدرس IP شبکه eth0 شما 192.168.10.63 است، آنگاه آدرس IP alias باید 192.168.10.64 باشد
