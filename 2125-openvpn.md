# 212.5. OpenVPN

**وزن:**2

**توضیحات:** داوطلبان باید بتوانند یک VPN (شبکه خصوصی مجازی) را پیکربندی کنند و اتصالات نقطه‌به‌نقطه یا سایت‌به‌سایت امن ایجاد کنند.

**نواحی کلیدی دانش:**

* OpenVPN

**اصطلاحات و ابزارها:**

* /etc/openvpn/
* openvpn

در این درس وزن سبک ما در مورد OpenVPN صحبت خواهیم کرد اما قبل از آن اجازه دهید در مورد خود VPN صحبت کنیم.

### VPN چه معنایی دارد؟

تصور کنید که برای یک شرکت کار می‌کنید. و از شما خواسته شده است تا دسترسی امن به شبکه شرکت برای یک کاربر دیگر یا شعبه شرکت از راه دور فراهم کنید. مشکل این است که ترافیک ما باید از طریق اینترنت که rout شده و قابل اعتماد نیست منتقل شود. راه‌حل VPN است.

یک **شبکه خصوصی مجازی** (**VPN**) یک راه‌حل تکنولوژیکی است که برای فراهم کردن حریم خصوصی و امنیت برای اتصالات شبکه استفاده می‌شود.

* این **مجازی** است...چون به نظر می‌رسد که اگر یک اتصال خصوصی مستقیم به کامپیوتر دیگر داریم به آن متصل می‌شویم.
* این **خصوصی** است...چون تمام ترافیک ما رمزگذاری شده است و هیچ‌کس نمی‌تواند تشخیص دهد که چه چیزی واقعاً منتقل شده است.
* این یک **شبکه** است...چون ما از یک شبکه خاص از سرورهای VPN استفاده می‌کنیم که تمام کره زمین را پوشش می‌دهد.

![](.gitbook/assets/openvpn-vpnoverview.jpg)

معمولاً یک رمزگذاری اضافه می‌شود و آن SSL/TLS است، که از گواهی‌نامه‌ها برای اطمینان استفاده می‌کند که اتصال رمزگذاری شده و بین طرف‌های قابل اعتماد برقرار شده است.

همانطور که در بالا نشان داده شده است دو نوع اتصالات vpn وجود دارد:

* **نقطه به نقطه :** رایج‌ترین استفاده شده VPN. VPNهای PPTP توسط کاربران از راه دور استفاده می‌شود تا خود را به شبکه VPN با استفاده از اتصال اینترنت موجود خود متصل کنند. این یک VPN مفید برای هر دو کاربران کسب‌وکار و کاربران خانگی است.
* **سایت به سایت :** اغلب در عملیات مبتنی بر شرکت استفاده می‌شود. از آنجا که بسیاری از شرکت‌ها دفاتر را هم در داخل کشور و بین‌المللی واقع شده‌اند، یک VPN سایت‌به‌سایت برای اتصال شبکه دفتر مرکزی به چندین دفتر استفاده می‌شود. این همچنین به عنوان یک VPN مبتنی بر اینترنت (Intranet) شناخته می‌شود.

## OpenVPN

OpenVPN یک برنامه نرم‌افزاری متن‌باز است که تکنیک‌های شبکه خصوصی مجازی (VPN) را برای ایجاد اتصالات امن نقطه‌به‌نقطه یا سایت‌به‌سایت پیاده‌سازی می‌کند.

OpenVPN می‌تواند از انواع روش‌های مانند کلیدهای از پیش مشترک، گواهی‌نامه‌ها، یا نام‌های کاربری/رمزهای عبور استفاده کند تا به کلاینت‌ها اجازه احراز هویت به سرور را بدهد. OpenVPN از پروتکل OpenSSL استفاده می‌کند و بسیاری ویژگی‌های امنیت و کنترل مانند احراز هویت پاسخ به چالش، قابلیت ورود یکپارچه، load balancing و ویژگی‌های failover و پشتیبانی multi daemon را پیاده‌سازی می‌کند.

به طور پیش‌فرض OpenVPN روی پورت 1194 UDP کار می‌کند اما Open VPN بسیار قادر به عبور شفاف از فایروال‌ها به خصوص زمانی که پورت پیش‌فرض به 443 تغییر داده شده است.

![](.gitbook/assets/openvpn-logo.png)

بیایید با نصب OpenVPN شروع کنیم و یک اتصال VPN بین دو کامپیوتر برقرار کنیم.

ما از کامپیوتر CentOS(192.168.10.147) به عنوان سرور و ماشین ubuntu(192.168.10.129) به عنوان کلاینت استفاده می‌کنیم، همچنین برای ساده نگه داشتن ما از کلیدهای از پیش مشترک به جای تولید گواهی‌نامه‌ها استفاده خواهیم کرد:
